!function(a){a.fn.initial=function(b){function c(a){var b=a.split("").map(function(a){var b=a.toUpperCase().charCodeAt(0);switch(!0){case b>47&&b<58:b-=22;break;case b>64&&b<91:b-=64;break;case b>96&&b<123:b-=96;break;default:b=0}return b}),c=b.reduce(function(a,b,c,d){return 1==c&&(a/=d.length),a+b/d.length});return c%36/36}function d(a,b){return Math.sin(.7*a)*Math.cos(.7*a)+.5}function e(a,b,c){var d=c*b,e={red:0,green:0,blue:0},f=a/60,g=d*(1-Math.abs(f%2-1));switch(Math.floor(f)){case 0:e.red=d,e.green=g;break;case 1:e.red=g,e.green=d;break;case 2:e.green=d,e.blue=g;break;case 3:e.green=g,e.blue=d;break;case 4:e.red=g,e.green=d;break;case 5:case 6:e.red=d,e.green=g}var h=c-d,i={red:Math.floor(256*(e.red+h)),green:Math.floor(256*(e.green+h)),blue:Math.floor(256*(e.blue+h))},j={red:(i.red<16?"0":"")+Number(i.red).toString(16),green:(i.green<16?"0":"")+Number(i.green).toString(16),blue:(i.blue<16?"0":"")+Number(i.blue).toString(16)};return j.red+j.green+j.blue}return this.each(function(){var f=a(this),g=a.extend({name:"DaMaVaNd",seed:0,charCount:1,wordCount:2,background:{saturation:.4,brightness:.99},foreground:{saturation:.8,brightness:.6},height:100,width:100,fontSize:60,fontWeight:400,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif",radius:0,src:null},b);if(g=a.extend(g,f.data()),g.src)return void f.css({width:g.width+"px",height:g.height+"px","border-radius":g.radius+"px","-moz-border-radius":g.radius+"px"}).attr("src",g.src);g.seed=g.seed>-1?g.seed:0;var h=c(g.name),i=(360+360*d(2*h*Math.PI,g.name.length)-140)%360,j={hue:i,saturation:g.background.saturation,brightness:g.background.brightness};g.bgColor="#"+e(j.hue,j.saturation,j.brightness);var k={hue:i,saturation:g.foreground.saturation,brightness:g.foreground.brightness};g.fgColor="#"+e(k.hue,k.saturation,k.brightness);var l=g.name.split(" ",g.wordCount).map(function(a){return a.substr(0,g.charCount).toUpperCase()}).join(""),m=a('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:g.fgColor,"font-family":g.fontFamily}).html(l).css({"font-weight":g.fontWeight,"font-size":g.fontSize+"px"}),n=a("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:g.width,height:g.height}).css({"background-color":g.bgColor,width:g.width+"px",height:g.height+"px","border-radius":g.radius+"px","-moz-border-radius":g.radius+"px"});n.append(m);var o=window.btoa(unescape(encodeURIComponent(a("<div>").append(n.clone()).html())));f.attr("src","data:image/svg+xml;base64,"+o)})}}(jQuery);